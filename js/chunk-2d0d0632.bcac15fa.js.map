{"version":3,"sources":["webpack:///./src/views/dashboard/admin/Quiz/ManageQuiz.vue","webpack:///src/views/dashboard/admin/Quiz/ManageQuiz.vue","webpack:///./src/views/dashboard/admin/Quiz/ManageQuiz.vue?2541","webpack:///./src/views/dashboard/admin/Quiz/ManageQuiz.vue?054d"],"names":["attrs","_e","scopedSlots","_vm","fn","staticClass","proxy","_c","errors","model","callback","value","$set","expression","staticRenderFns","name","data","loader","form","id","watch","val","length","$nextTick","labels","pop","methods","emptyForm","title","description","time_limit","store","ApiService","post","then","resp","loading","$toastr","s","message","catch","err","response","status","Object","keys","filter","k","indexOf","forEach","i","e","edit","$route","params","get","map","update","put","created","computed","breadcrumbs","text","disabled","href","component"],"mappings":"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","file":"js/chunk-2d0d0632.bcac15fa.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',{attrs:{\"id\":\"add-quiz\",\"fluid\":\"\",\"tag\":\"section\"}},[(_vm.breadcrumbs)?_c('v-breadcrumbs',{attrs:{\"items\":_vm.breadcrumbs,\"divider\":\"-\"}}):_vm._e(),_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"8\"}},[_c('base-material-card',{scopedSlots:_vm._u([{key:\"heading\",fn:function(){return [_c('div',{staticClass:\"display-2 font-weight-light\"},[_vm._v(\" \"+_vm._s(_vm.id ? 'Chỉnh sửa' : 'Thêm')+\" Đề thi trắc nghiệm \")]),(!_vm.id)?_c('div',{staticClass:\"subtitle-1 font-weight-light\"},[_vm._v(\" Thêm mới đề thi trắc nghiệm \")]):_vm._e()]},proxy:true}])},[_c('v-form',[_c('v-container',{staticClass:\"py-0\"},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-text-field',{staticClass:\"purple-input\",attrs:{\"label\":\"Tiêu đề\",\"error-messages\":_vm.errors.title},model:{value:(_vm.form.title),callback:function ($$v) {_vm.$set(_vm.form, \"title\", $$v)},expression:\"form.title\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-textarea',{staticClass:\"purple-input\",attrs:{\"label\":\"Chi tiết\",\"error-messages\":_vm.errors.description},model:{value:(_vm.form.description),callback:function ($$v) {_vm.$set(_vm.form, \"description\", $$v)},expression:\"form.description\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-text-field',{staticClass:\"purple-input\",attrs:{\"label\":\"Thời gian giới hạn (Giây.)\",\"error-messages\":_vm.errors.time_limit},model:{value:(_vm.form.time_limit),callback:function ($$v) {_vm.$set(_vm.form, \"time_limit\", $$v)},expression:\"form.time_limit\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-combobox',{attrs:{\"hide-selected\":\"\",\"hint\":\"Nhập tối đa 15 nhãn\",\"label\":\"Nhập một số nhãn cho đề thi\",\"multiple\":\"\",\"persistent-hint\":\"\",\"small-chips\":\"\",\"error-messages\":_vm.errors.labels},model:{value:(_vm.form.labels),callback:function ($$v) {_vm.$set(_vm.form, \"labels\", $$v)},expression:\"form.labels\"}})],1),_c('v-col',{staticClass:\"text-right\",attrs:{\"cols\":\"12\"}},[(_vm.id)?_c('v-btn',{staticClass:\"mr-0\",attrs:{\"color\":\"success\"},on:{\"click\":_vm.update}},[_vm._v(\" Cập nhật \")]):_c('v-btn',{staticClass:\"mr-0\",attrs:{\"color\":\"success\"},on:{\"click\":_vm.store}},[_vm._v(\" Lưu \")])],1)],1)],1)],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container id=\"add-quiz\" fluid tag=\"section\">\n    <v-breadcrumbs v-if=\"breadcrumbs\" :items=\"breadcrumbs\" divider=\"-\"></v-breadcrumbs>\n    <v-row justify=\"center\">\n      <v-col cols=\"12\" md=\"8\">\n        <base-material-card>\n          <template v-slot:heading>\n            <div class=\"display-2 font-weight-light\">\n              {{ id ? 'Chỉnh sửa' : 'Thêm' }} Đề thi trắc nghiệm\n            </div>\n\n            <div class=\"subtitle-1 font-weight-light\" v-if=\"!id\">\n              Thêm mới đề thi trắc nghiệm\n            </div>\n          </template>\n\n          <v-form>\n            <v-container class=\"py-0\">\n              <v-row>\n                <v-col cols=\"12\">\n                  <v-text-field class=\"purple-input\" label=\"Tiêu đề\"\n                                v-model=\"form.title\"\n                                :error-messages=\"errors.title\"\n                  />\n                </v-col>\n\n                <v-col cols=\"12\">\n                  <v-textarea class=\"purple-input\" label=\"Chi tiết\"\n                              v-model=\"form.description\"\n                              :error-messages=\"errors.description\"\n                  />\n                </v-col>\n\n                <v-col cols=\"12\" md=\"6\">\n                  <v-text-field class=\"purple-input\" label=\"Thời gian giới hạn (Giây.)\"\n                                v-model=\"form.time_limit\"\n                                :error-messages=\"errors.time_limit\"\n                  />\n                </v-col>\n\n                <v-col cols=\"12\">\n                  <v-combobox\n                      v-model=\"form.labels\"\n                      hide-selected\n                      hint=\"Nhập tối đa 15 nhãn\"\n                      label=\"Nhập một số nhãn cho đề thi\"\n                      multiple\n                      persistent-hint\n                      small-chips\n                      :error-messages=\"errors.labels\"\n                  >\n                  </v-combobox>\n                </v-col>\n\n                <v-col cols=\"12\" class=\"text-right\">\n                  <v-btn color=\"success\" class=\"mr-0\" @click=\"update\" v-if=\"id\">\n                    Cập nhật\n                  </v-btn>\n                  <v-btn color=\"success\" class=\"mr-0\" @click=\"store\" v-else>\n                    Lưu\n                  </v-btn>\n                </v-col>\n              </v-row>\n            </v-container>\n          </v-form>\n        </base-material-card>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nimport ApiService from \"@/common/api.service\"\n\nexport default {\n  name: \"ManageQuiz\",\n  data: () => ({\n    loader: false,\n    form: {},\n    errors: {},\n    id: null\n  }),\n  watch: {\n    'form.labels'(val) {\n      if (val.length > 15) {\n        this.$nextTick(() => this.form.labels.pop())\n      }\n    },\n  },\n  methods: {\n    emptyForm() {\n      return {\n        id: null,\n        title: '',\n        description: '',\n        time_limit: '1800',\n        labels: []\n      }\n    },\n    store() {\n      this.loader = true\n      ApiService.post(\"admin/quiz\", this.form)\n          .then((resp) => {\n            this.loading = false;\n            this.form = this.emptyForm();\n            this.$toastr.s(resp.data.message);\n            this.errors = {};\n          }).catch((err) => {\n        if (err.response.status === 422) {\n          this.errors = err.response.data.errors;\n          Object.keys(this.errors).filter(function (k) {\n            return ~k.indexOf(\"labels\")\n          }).forEach(i => {\n                this.$toastr.e(this.errors[i]);\n              }\n          )\n        }\n        this.loading = false;\n      });\n    },\n    edit() {\n      this.id = this.$route.params['id'];\n      this.loader = true\n      ApiService.get(`admin/quiz/${this.id}`)\n          .then((resp) => {\n            this.loading = false;\n            let data = resp.data.data;\n            this.form = {\n              id: data.id,\n              title: data.title,\n              description: data.description,\n              time_limit: data.time_limit,\n              labels: data.labels.map(i => i.name)\n            };\n            this.errors = {};\n          }).catch((err) => {\n        this.$toastr.e(err);\n        this.loading = false;\n      });\n    },\n    update() {\n      this.loader = true\n      ApiService.put(`admin/quiz/${this.id}`, this.form)\n          .then((resp) => {\n            this.loading = false;\n            this.$toastr.s(resp.data.message);\n            this.errors = {};\n          }).catch((err) => {\n        if (err.response.status === 422) {\n          this.errors = err.response.data.errors;\n          Object.keys(this.errors).filter(function (k) {\n            return ~k.indexOf(\"labels\")\n          }).forEach(i => {\n                this.$toastr.e(this.errors[i]);\n              }\n          )\n        }\n        this.loading = false;\n      });\n    },\n  },\n  created() {\n    this.form = this.emptyForm();\n    if (this.$route.params['id']) {\n      this.edit();\n    }\n  },\n  computed: {\n    breadcrumbs() {\n      return [\n        {\n          text: 'Quizzes',\n          disabled: false,\n          href: '/quizzes',\n        },\n        {\n          text: this.id ? 'Edit' : 'Add new',\n          disabled: true,\n          href: this.id ? `/quizzes/:${this.id}/edit` : '/quizzes/add',\n        }\n      ]\n    }\n  },\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ManageQuiz.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ManageQuiz.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ManageQuiz.vue?vue&type=template&id=16c1c94e&\"\nimport script from \"./ManageQuiz.vue?vue&type=script&lang=js&\"\nexport * from \"./ManageQuiz.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}