{"version":3,"sources":["webpack:///../../../src/components/VDataTable/VSimpleTable.ts","webpack:///../../../src/components/VSwitch/VSwitch.ts","webpack:///./src/views/dashboard/pages/Quiz/Quizzes.vue","webpack:///src/views/dashboard/pages/Quiz/Quizzes.vue","webpack:///./src/views/dashboard/pages/Quiz/Quizzes.vue?757a","webpack:///./src/views/dashboard/pages/Quiz/Quizzes.vue?738f"],"names":["mixins","Themeable","extend","name","props","dense","Boolean","fixedHeader","height","Number","String","computed","classes","this","$slots","top","bottom","themeClasses","methods","genWrapper","wrapper","$createElement","staticClass","style","convertToUnit","default","render","h","class","Selectable","directives","Touch","inset","loading","type","flat","VInput","options","call","attrs","isActive","isDisabled","role","validationState","hasError","shouldValidate","hasSuccess","hasColor","computedColor","switchData","setTextColor","undefined","genDefaultSlot","genSwitch","genLabel","title","switchAttrs","attrs$","genInput","genRipple","value","left","onSwipeLeft","right","onSwipeRight","genProgress","VFabTransition","progress","VProgressCircular","color","size","width","indeterminate","onChange","onKeydown","e","keyCode","keyCodes","scopedSlots","key","_vm","proxy","_c","id","params","quiz","_v","updateDigestEmailSettings","digest_email","model","callback","expression","click","$event","on","pagination","confirmed","staticRenderFns","components","TableLoader","Confirmation","data","digest_notification","digestEmailSwitching","list","filters","per_page","current","total","index","page","searchQuery","ApiService","get","then","res","meta","current_page","last_page","catch","err","response","status","$toastr","put","s","message","filtersUrl","str","encodeURIComponent","clearFilter","search","edit","$router","push","openDialog","$refs","dialog","destroy","delete","mounted","component"],"mappings":"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","file":"js/chunk-1a4af33f.e236ff14.js","sourcesContent":["import './VSimpleTable.sass'\n\nimport { convertToUnit } from '../../util/helpers'\nimport Themeable from '../../mixins/themeable'\nimport mixins from '../../util/mixins'\nimport { VNode } from 'vue'\n\nexport default mixins(Themeable).extend({\n  name: 'v-simple-table',\n\n  props: {\n    dense: Boolean,\n    fixedHeader: Boolean,\n    height: [Number, String],\n  },\n\n  computed: {\n    classes (): Record<string, boolean> {\n      return {\n        'v-data-table--dense': this.dense,\n        'v-data-table--fixed-height': !!this.height && !this.fixedHeader,\n        'v-data-table--fixed-header': this.fixedHeader,\n        'v-data-table--has-top': !!this.$slots.top,\n        'v-data-table--has-bottom': !!this.$slots.bottom,\n        ...this.themeClasses,\n      }\n    },\n  },\n\n  methods: {\n    genWrapper () {\n      return this.$slots.wrapper || this.$createElement('div', {\n        staticClass: 'v-data-table__wrapper',\n        style: {\n          height: convertToUnit(this.height),\n        },\n      }, [\n        this.$createElement('table', this.$slots.default),\n      ])\n    },\n  },\n\n  render (h): VNode {\n    return h('div', {\n      staticClass: 'v-data-table',\n      class: this.classes,\n    }, [\n      this.$slots.top,\n      this.genWrapper(),\n      this.$slots.bottom,\n    ])\n  },\n})\n","// Styles\nimport '../../styles/components/_selection-controls.sass'\nimport './VSwitch.sass'\n\n// Mixins\nimport Selectable from '../../mixins/selectable'\nimport VInput from '../VInput'\n\n// Directives\nimport Touch from '../../directives/touch'\n\n// Components\nimport { VFabTransition } from '../transitions'\nimport VProgressCircular from '../VProgressCircular/VProgressCircular'\n\n// Helpers\nimport { keyCodes } from '../../util/helpers'\n\n// Types\nimport { VNode, VNodeData } from 'vue'\n\n/* @vue/component */\nexport default Selectable.extend({\n  name: 'v-switch',\n\n  directives: { Touch },\n\n  props: {\n    inset: Boolean,\n    loading: {\n      type: [Boolean, String],\n      default: false,\n    },\n    flat: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        ...VInput.options.computed.classes.call(this),\n        'v-input--selection-controls v-input--switch': true,\n        'v-input--switch--flat': this.flat,\n        'v-input--switch--inset': this.inset,\n      }\n    },\n    attrs (): object {\n      return {\n        'aria-checked': String(this.isActive),\n        'aria-disabled': String(this.isDisabled),\n        role: 'switch',\n      }\n    },\n    // Do not return undefined if disabled,\n    // according to spec, should still show\n    // a color when disabled and active\n    validationState (): string | undefined {\n      if (this.hasError && this.shouldValidate) return 'error'\n      if (this.hasSuccess) return 'success'\n      if (this.hasColor !== null) return this.computedColor\n      return undefined\n    },\n    switchData (): VNodeData {\n      return this.setTextColor(this.loading ? undefined : this.validationState, {\n        class: this.themeClasses,\n      })\n    },\n  },\n\n  methods: {\n    genDefaultSlot (): (VNode | null)[] {\n      return [\n        this.genSwitch(),\n        this.genLabel(),\n      ]\n    },\n    genSwitch (): VNode {\n      const { title, ...switchAttrs } = this.attrs$\n\n      return this.$createElement('div', {\n        staticClass: 'v-input--selection-controls__input',\n      }, [\n        this.genInput('checkbox', {\n          ...this.attrs,\n          ...switchAttrs,\n        }),\n        this.genRipple(this.setTextColor(this.validationState, {\n          directives: [{\n            name: 'touch',\n            value: {\n              left: this.onSwipeLeft,\n              right: this.onSwipeRight,\n            },\n          }],\n        })),\n        this.$createElement('div', {\n          staticClass: 'v-input--switch__track',\n          ...this.switchData,\n        }),\n        this.$createElement('div', {\n          staticClass: 'v-input--switch__thumb',\n          ...this.switchData,\n        }, [this.genProgress()]),\n      ])\n    },\n    genProgress (): VNode {\n      return this.$createElement(VFabTransition, {}, [\n        this.loading === false\n          ? null\n          : this.$slots.progress || this.$createElement(VProgressCircular, {\n            props: {\n              color: (this.loading === true || this.loading === '')\n                ? (this.color || 'primary')\n                : this.loading,\n              size: 16,\n              width: 2,\n              indeterminate: true,\n            },\n          }),\n      ])\n    },\n    onSwipeLeft () {\n      if (this.isActive) this.onChange()\n    },\n    onSwipeRight () {\n      if (!this.isActive) this.onChange()\n    },\n    onKeydown (e: KeyboardEvent) {\n      if (\n        (e.keyCode === keyCodes.left && this.isActive) ||\n        (e.keyCode === keyCodes.right && !this.isActive)\n      ) this.onChange()\n    },\n  },\n})\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',{attrs:{\"fluid\":\"\",\"tag\":\"section\"}},[_c('base-material-card',{staticClass:\"px-5 py-3\",attrs:{\"icon\":\"mdi-clipboard-text\",\"title\":\"Đề thi của tôi\"},scopedSlots:_vm._u([{key:\"after-heading\",fn:function(){return [_c('div',{staticClass:\"col-12 ml-auto text-right\"},[_c('v-btn',{staticClass:\"text-right\",attrs:{\"depressed\":\"\",\"color\":\"primary\",\"to\":{name: 'AddQuiz'}}},[_vm._v(\" Thêm đề thi \")])],1)]},proxy:true}])},[(_vm.loading)?_c('table-loader'):[_c('v-simple-table',[_c('thead',[_c('tr',[_c('th',{staticClass:\"primary--text\"},[_vm._v(\" ID \")]),_c('th',{staticClass:\"primary--text\"},[_vm._v(\" Tiêu đề \")]),_c('th',{staticClass:\"primary--text\"},[_vm._v(\" Thời gian (H:M:S) \")]),_c('th',{staticClass:\"primary--text\"},[_vm._v(\" Ngày tạo \")]),_c('th',{staticClass:\"primary--text\"},[_vm._v(\" Thông báo \")]),_c('th',{staticClass:\"primary--text\"},[_vm._v(\" Hành động \")])])]),_c('tbody',[(_vm.list.data && _vm.list.data.length > 0)?_vm._l((_vm.list.data),function(quiz){return _c('tr',{key:quiz.id},[_c('td',[_vm._v(_vm._s(quiz.id))]),_c('td',[_c('router-link',{attrs:{\"to\":{name: 'Quiz', params: { id: quiz.id }}}},[_vm._v(_vm._s(quiz.title))])],1),_c('td',[_vm._v(\" \"+_vm._s(_vm.moment.utc(_vm.moment.duration(quiz.time_limit,'seconds').as('milliseconds')).format('HH:mm:ss'))+\" \")]),_c('td',[_vm._v(_vm._s(_vm.moment(quiz.created_at).format('YYYY-MM-DD')))]),_c('td',{staticClass:\"text-right\"},[_c('v-switch',{attrs:{\"loading\":_vm.digestEmailSwitching,\"label\":quiz.digest_email ? 'On' : 'Off'},on:{\"change\":function($event){return _vm.updateDigestEmailSettings(quiz.id,quiz.digest_email)}},model:{value:(quiz.digest_email),callback:function ($$v) {_vm.$set(quiz, \"digest_email\", $$v)},expression:\"quiz.digest_email\"}})],1),_c('td',[_c('v-btn',{staticClass:\"mx-2\",attrs:{\"fab\":\"\",\"dark\":\"\",\"x-small\":\"\",\"color\":\"cyan\"},on:{\"click\":function($event){return _vm.edit(quiz.id)}}},[_c('v-icon',{attrs:{\"dark\":\"\"}},[_vm._v(\" mdi-pencil \")])],1),_c('v-btn',{staticClass:\"mx-2\",attrs:{\"fab\":\"\",\"dark\":\"\",\"x-small\":\"\",\"color\":\"error\"},on:{\"click\":function($event){return _vm.openDialog(quiz.id)}}},[_c('v-icon',{attrs:{\"dark\":\"\"}},[_vm._v(\" mdi-delete \")])],1)],1)])}):[_c('tr',[_c('td',{staticClass:\"text-center\",attrs:{\"colspan\":\"6\"}},[_vm._v(\"No data found\")])])]],2)]),_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"8\"}},[_c('v-container',{staticClass:\"max-width\"},[_c('v-pagination',{staticClass:\"my-4\",attrs:{\"length\":_vm.pagination.total,\"total-visible\":7,\"circle\":\"\"},on:{\"input\":function($event){_vm.index(_vm.pagination.current,_vm.filtersUrl())}},model:{value:(_vm.pagination.current),callback:function ($$v) {_vm.$set(_vm.pagination, \"current\", $$v)},expression:\"pagination.current\"}})],1)],1)],1)]],2),_c('Confirmation',{ref:\"confirmation\",on:{\"confirmed\":function($event){return _vm.destroy($event)}}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container fluid tag=\"section\">\n    <base-material-card icon=\"mdi-clipboard-text\" title=\"Đề thi của tôi\" class=\"px-5 py-3\">\n      <template v-slot:after-heading>\n        <div class=\"col-12 ml-auto text-right\">\n          <v-btn depressed color=\"primary\" class=\"text-right\" :to=\"{name: 'AddQuiz'}\">\n            Thêm đề thi\n          </v-btn>\n        </div>\n      </template>\n      <table-loader v-if=\"loading\"></table-loader>\n      <template v-else>\n        <v-simple-table>\n          <thead>\n          <tr>\n            <th class=\"primary--text\">\n              ID\n            </th>\n            <th class=\"primary--text\">\n              Tiêu đề\n            </th>\n            <th class=\"primary--text\">\n              Thời gian (H:M:S)\n            </th>\n            <th class=\"primary--text\">\n              Ngày tạo\n            </th>\n            <th class=\"primary--text\">\n              Thông báo\n            </th>\n            <th class=\"primary--text\">\n              Hành động\n            </th>\n          </tr>\n          </thead>\n\n          <tbody>\n          <template v-if=\"list.data && list.data.length > 0\">\n            <tr v-for=\"quiz in list.data\" :key=\"quiz.id\">\n              <td>{{ quiz.id }}</td>\n              <td>\n                <router-link :to=\"{name: 'Quiz', params: { id: quiz.id }}\">{{ quiz.title }}</router-link>\n              </td>\n              <td>\n                {{ moment.utc(moment.duration(quiz.time_limit,'seconds').as('milliseconds')).format('HH:mm:ss') }}\n              </td>\n              <td>{{moment(quiz.created_at).format('YYYY-MM-DD')}}</td>\n              <td class=\"text-right\">\n                <v-switch\n                    :loading=\"digestEmailSwitching\"\n                    @change=\"updateDigestEmailSettings(quiz.id,quiz.digest_email)\"\n                    v-model=\"quiz.digest_email\"\n                    :label=\"quiz.digest_email ? 'On' : 'Off'\"\n                ></v-switch>\n              </td>\n              <td>\n                <v-btn class=\"mx-2\" fab dark x-small color=\"cyan\" @click=\"edit(quiz.id)\">\n                  <v-icon dark>\n                    mdi-pencil\n                  </v-icon>\n                </v-btn>\n                <v-btn class=\"mx-2\" fab dark x-small color=\"error\" @click=\"openDialog(quiz.id)\">\n                  <v-icon dark>\n                    mdi-delete\n                  </v-icon>\n                </v-btn>\n              </td>\n            </tr>\n          </template>\n          <template v-else>\n            <tr><td colspan=\"6\" class=\"text-center\">No data found</td></tr>\n          </template>\n          </tbody>\n        </v-simple-table>\n        <v-row justify=\"center\">\n          <v-col cols=\"8\">\n            <v-container class=\"max-width\">\n              <v-pagination\n                  v-model=\"pagination.current\"\n                  :length=\"pagination.total\"\n                  class=\"my-4\"\n                  :total-visible=\"7\"\n                  circle\n                  @input=\"index(pagination.current,filtersUrl())\"\n              ></v-pagination>\n            </v-container>\n          </v-col>\n        </v-row>\n      </template>\n    </base-material-card>\n    <Confirmation ref=\"confirmation\" @confirmed=\"destroy($event)\"></Confirmation>\n  </v-container>\n</template>\n\n<script>\nimport ApiService from \"@/common/api.service\"\nimport TableLoader from \"@/components/base/TableLoader\"\nimport Confirmation from \"@/components/base/Confirmation\"\nexport default {\n  components:{\n    TableLoader,\n    Confirmation\n  },\n  name: \"Quizzes\",\n  data: () => ({\n    digest_notification: false,\n    loading: false,\n    digestEmailSwitching: false,\n    list: {},\n    filters: {},\n    pagination: {\n      per_page: 20,\n      current: 1,\n      total: 0\n    },\n  }),\n  methods: {\n    index(page, searchQuery = \"\") {\n      this.loading = true;\n      if (!page) {\n        page = this.pagination.current;\n      }\n      if(searchQuery) {\n        searchQuery = `&${searchQuery}`;\n      }\n      ApiService.get(`/quiz?page=${page}${searchQuery}&limit=${this.pagination.per_page}`).then(res => {\n        this.list = res.data;\n        this.pagination.current = res.data.meta.current_page;\n        this.pagination.total = res.data.meta.last_page;\n        this.loading = false;\n      }).catch(err => {\n        if (!err.response || err.response.status !== 401) {\n          this.$toastr.e(\"Failed to load data!\" + err);\n          this.loading = false;\n        }else{\n          this.$toastr.e(err.response.data.status)\n        }\n      })\n    },\n    updateDigestEmailSettings(id, status) {\n      this.digestEmailSwitching = true;\n      ApiService.put(`/quiz/${id}/diggest-email`, {\n        status: status\n      }).then(res => {\n        this.$toastr.s(res.data.message);\n        this.digestEmailSwitching = false;\n      }).catch(err => {\n          this.$toastr.e(err);\n        this.digestEmailSwitching = false;\n      })\n    },\n    filtersUrl() {\n      var str = \"\";\n      for (var key in this.filters) {\n        if (str != \"\") {\n          str += \"&\";\n        }\n        str += key + \"=\" + encodeURIComponent(this.filters[key]);\n      }\n      return str;\n    },\n    clearFilter() {\n      this.filters = {};\n      this.index();\n    },\n    search() {\n      this.index(1, this.filtersUrl());\n    },\n    edit(id) {\n      this.$router.push({name: 'EditQuiz', params: {id: id}});\n    },\n    openDialog(id) {\n      this.$refs['confirmation'].dialog = true;\n      this.$refs['confirmation'].id = id;\n    },\n    destroy(id) {\n      ApiService.delete(`/quiz/${id}`).then(res => {\n        this.$toastr.s(res.data.message);\n        this.index();\n      }).catch(err => {\n        this.$toastr.e(err);\n      })\n    }\n  },\n  mounted() {\n    this.index();\n  }\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Quizzes.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Quizzes.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Quizzes.vue?vue&type=template&id=17898a54&\"\nimport script from \"./Quizzes.vue?vue&type=script&lang=js&\"\nexport * from \"./Quizzes.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}